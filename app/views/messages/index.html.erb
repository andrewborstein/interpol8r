<h1 class="title">Messages</h1>

<% @messages.in_groups_of(2) do |messages| %>
  <div class="columns">
    <% messages.each do |message| %>
      <div class="column is-one-half">
        <% if message.present? %>
          <div class="card">
            <header class="card-header" style="position: relative; z-index: 1">
              <p class="card-header-title">
                <%= message.name %>
              </p>
              <%= link_to edit_message_path(message), class: 'card-header-icon has-text-grey' do %>
                <span class="icon" aria-label="Edit message" title="Edit Message">
                  <i class="fas fa-edit" aria-hidden="true"></i>
                </span>
              <% end %>
              <%= link_to message, class: 'card-header-icon has-text-grey', method: :delete, data: { confirm: 'Are you sure?' } do %>
                <span class="icon" aria-label="Delete message" title="Delete Message">
                  <i class="fas fa-trash" aria-hidden="true"></i>
                </span>
              <% end %>
            </header>
            <div class="card-content is-paddingless">
              <div class="content">
                <pre><%= message.spec %></pre>
              </div>
            </div>
            <footer class="card-footer">
              <%= link_to 'RUN', messages_path(message_id: message.id), class: 'card-footer-item has-text-weight-semibold' %>
            </footer>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
